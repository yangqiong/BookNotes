堆内存为什么会有限制，如果1.5GB的垃圾回收堆内存，所需要的时间太长，可能导致应用性能和响应急剧下降。

V8的堆内存分为新生代内存空间和老生代内存空间。

## 新生代内存空间

新生代内存空间通过Scavenge算法来进行垃圾回收，而具体实现采用了Chenery算法。

Chenery算法是一种采用复制方式实现的垃圾回收算法。它将堆内存一份为二，只有一份处于使用中，一份处于限制状态。使用状态的空间称为From空间，限制状态的空间称为To空间。

当我们分配对象时，现在From空间进行分配。当开始进行垃圾回首时，会检查From空间的存货对象，这些存活对象将被复制到To空间。而非存活对象的空间将被释放。完成复制后，From空间与To空间的角色发生对换。

缺点只能使用堆内存空间的一半，但时间效率上有优异表现，因为活对象只占新生代中较小部分。

## 晋升

当一个对象经过多次复制依然存活时，它将被认为是生命周期较长的对象。这种对象随后会被转移到老生代，这个过程称为晋升。

在V8上有两种情况

* 对象是否经历过Scavenge回收，如果经历过一次了，会将对象从From空间复制到老生代空间，如果没有，则复制到To空间
* 当要从From空间复制一个对象到To空间时，如果To空间已经使用了超过25%，则这个对象直接晋升到老生代空间。

## 老生代内存空间



